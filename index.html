<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>VMM tester</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        success: '#22c55e',
                        danger: '#ef4444',
                    }
                }
            }
        }
    </script>

    <!-- MathJax Configuration -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({showMathMenu:false, tex2jax: {inlineMath: [['$','$']]}});
    </script>
    <script type="text/javascript" async
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script type="text/javascript" src="scripts/otazky.js"></script>
    <script type="text/javascript" src="scripts/app.js"></script>

    <link rel="stylesheet" href="style/main.css">
</head>

<body ng-app="paaApp" class="bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen">

<main class="max-w-4xl mx-auto px-4 py-8" ng-controller="NewsController">

    <!-- Question Card -->
    <article class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden mb-6">
        <header class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
            <h1 class="text-lg md:text-xl font-semibold text-white leading-relaxed">
                <span dynamic="questionText"></span>
            </h1>
        </header>

        <section class="p-6">
            <form action="" role="form">
                <fieldset class="space-y-3">
                    <div ng-repeat="qu in question"
                         class="relative flex items-start p-4 rounded-xl border-2 transition-all duration-200 cursor-pointer"
                         ng-class="{
                             'border-red-400 bg-red-50': !isCorrect(qu) && ss,
                             'border-green-400 bg-green-50': isCorrect(qu) && ss,
                             'border-slate-200 hover:border-blue-300 hover:bg-blue-50/50': !ss
                         }">
                        <label class="flex items-start gap-3 w-full cursor-pointer">
                            <input type="checkbox" 
                                   value="{{ qu }}"
                                   ng-click="toggleSelection(qu)"
                                   ng-disabled="ss"
                                   ng-checked="selection.indexOf(qu) > -1"
                                   class="mt-1 w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2 transition-colors disabled:opacity-50">
                            <span class="flex-1 text-slate-700" dynamic="qu.text"></span>

                            <span ng-show="!isCorrect(qu) && ss" class="flex-shrink-0 text-red-500">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                            </span>
                        </label>
                    </div>
                </fieldset>
            </form>

            <!-- Note Section -->
            <aside ng-if="note && ss" class="mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200">
                <p class="flex items-start gap-2">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600 text-white">
                        Pozn√°mka
                    </span>
                    <span class="text-slate-700" dynamic="note"></span>
                </p>
            </aside>

            <!-- Text Answer Section -->
            <div ng-show="textAnswer" class="mt-6">
                <textarea class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all resize-none text-slate-700" 
                          rows="5" 
                          ng-model="userText"
                          placeholder="Napi≈°te svou odpovƒõƒè..."></textarea>

                <div ng-if="ss" class="mt-4 space-y-4">
                    <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                        <p class="text-slate-700" dynamic="textAnswer"></p>
                    </div>

                    <nav class="flex gap-3" role="group" aria-label="Hodnocen√≠ odpovƒõdi">
                        <button type="button" 
                                ng-click="nextOK()"
                                class="inline-flex items-center gap-2 px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-xl transition-colors shadow-sm">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"/>
                            </svg>
                            Dob≈ôe
                        </button>
                        <button type="button"
                                ng-click="nextWrong()"
                                class="inline-flex items-center gap-2 px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-colors shadow-sm">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"/>
                            </svg>
                            ≈†patnƒõ
                        </button>
                    </nav>
                </div>
            </div>
        </section>
    </article>

    <!-- Action Buttons -->
    <nav class="flex flex-wrap gap-3 mb-6" role="group" aria-label="Ovl√°d√°n√≠ testu">
        <button type="button" 
                ng-disabled="ss"
                ng-click="solve(selectedFruits)"
                class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium rounded-xl transition-colors shadow-sm">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Vyhodnotit
        </button>
        <button type="button"
                ng-click="next()"
                ng-disabled="!ss"
                ng-if="!textAnswer"
                class="inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-slate-50 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed text-slate-700 font-medium rounded-xl border-2 border-slate-200 hover:border-slate-300 transition-colors shadow-sm">
            Dal≈°√≠ ot√°zka
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
            </svg>
        </button>
    </nav>

    <!-- Stats Section -->
    <section class="flex flex-wrap items-center gap-4 p-4 bg-white rounded-xl border border-slate-200 shadow-sm mb-8">
        <div class="flex items-center gap-2">
            <span class="text-slate-600">Chybnƒõ:</span>
            <span class="inline-flex items-center justify-center min-w-[2rem] px-2.5 py-1 bg-red-100 text-red-700 font-semibold rounded-lg">
                {{ totalErrors }}
            </span>
        </div>
        <div class="flex items-center gap-2">
            <span class="text-slate-600">Spr√°vnƒõ:</span>
            <span class="inline-flex items-center justify-center min-w-[2rem] px-2.5 py-1 bg-green-100 text-green-700 font-semibold rounded-lg">
                {{ totalOK }}
            </span>
        </div>
        <div class="flex items-center gap-2">
            <span class="text-slate-600">Zb√Ωv√° ot√°zek:</span>
            <span class="inline-flex items-center justify-center min-w-[2rem] px-2.5 py-1 bg-slate-100 text-slate-700 font-semibold rounded-lg">
                {{ total }}
            </span>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-slate-200 pt-6">
        <nav class="flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-slate-500">
            <a href="index.html" class="hover:text-blue-600 transition-colors">Reset testeru</a>
            <span class="hidden sm:inline">‚Ä¢</span>
            <span>listopad 2015</span>
            <span class="hidden sm:inline">‚Ä¢</span>
            <a href="https://gitlab.com/turimenrat/paa-tester-2" target="_blank" rel="noopener noreferrer" class="hover:text-blue-600 transition-colors">
                Zdrojov√© k√≥dy na Gitlabu
            </a>
            <span class="hidden sm:inline">‚Ä¢</span>
            <a href="https://github.com/AlesSrsen/vmm-tester" target="_blank" rel="noopener noreferrer" class="hover:text-blue-600 transition-colors">
                Aktu√°lna str√°nka na GitHub
            </a>
        </nav>
        <p class="mt-3 text-sm text-slate-500">
            <a href="https://srsen.me" target="_blank" rel="noopener noreferrer" class="hover:text-blue-600 transition-colors">
                üêù srsen.me
            </a>
        </p>
    </footer>

</main>

<script type="text/javascript">
    window.onbeforeunload = function confirmExit() {
        return "P≈ôeru≈°it test?";
    };
</script>

</body>
</html>
